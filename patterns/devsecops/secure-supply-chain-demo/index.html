<!doctype html><html><head><link rel=stylesheet href=https://hybrid-cloud-patterns.io/sass/patternfly.css><link rel=stylesheet href=https://hybrid-cloud-patterns.io/sass/patternfly-addons.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.2/css/solid.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.2/css/fontawesome.css><link rel=stylesheet href=/css/custom.css><title>Multicluster DevSecOps Demo | Hybrid Cloud Patterns</title></head><body><div class=pf-c-page><header class=pf-c-page__header><div class=pf-c-page__header-brand><a href=/ class=pf-c-page__header-brand-link><img src=/images/hybrid_cloud_patterns.png alt="Hybrid Cloud Patterns"></a></div><div class=pf-c-page__header-tools><nav class="pf-c-nav pf-m-horizontal" role=navigation><ul class=pf-c-nav__list><li class="pf-c-nav__item pf-m-current"><a class=pf-c-nav__link href=/patterns/ title=Patterns>Patterns</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/learn/ title=Learn>Learn</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/contribute/ title=Contribute>Contribute</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/blog/ title=Blog>Blog</a></li></ul></nav></div></header><div class=pf-c-page__sidebar><div class=pf-c-page__sidebar-body><div class=pf-c-nav><ul class=pf-c-nav__list><li class=pf-c-nav__item><a href=/patterns/ class=pf-c-nav__link><span class="pf-c-icon pf-m-md pf-m-inline"><span class=pf-c-icon__content><i class="fas fa-angle-left" aria-hidden=true></i></span></span>
<span style=padding-left:10px>Back to Patterns</span></a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/devsecops/ class=pf-c-nav__link>Multicluster DevSecOps</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/devsecops/getting-started/ class=pf-c-nav__link>Getting Started</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/devsecops/devel-cluster/ class=pf-c-nav__link>Secured Development Cluster</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/devsecops/production-cluster/ class=pf-c-nav__link>Secured Production Clusters</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/devsecops/secure-supply-chain-demo/ class="pf-c-nav__link pf-m-current">Multicluster DevSecOps Demo</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/devsecops/cluster-sizing/ class=pf-c-nav__link>Cluster Sizing</a></li></ul></div></div></div><main class=pf-c-page__main><section class=pf-c-page__main-section><div class="pf-l-grid pf-m-gutter"><div class="pf-l-grid__item pf-m-8-col"><div class=pf-c-content><div class=pf-c-content><h1 id=demonstrating-multicluster-devsecops>Demonstrating Multicluster DevSecOps</h1><h2 id=background>Background</h2><p>Up until now the Multicluster DevSecOps validated pattern has focused primarily on successfully deploying the architectural pattern components on the three different clusters. Now it is time to see DevSecOps in action as we step through a number of pipeline demonstrations to see the secure supply chain in action.</p><h2 id=prerequisite-preparation>Prerequisite preparation</h2><p>Make sure to have hub, development and production environments setup. It is possible to set up a production environment on your hub cluster if you wish to use only two clusters.</p><h3 id=local-laptopworkstation>Local laptop/workstation</h3><p>Make sure you have <code>git</code> and OpenShift&rsquo;s <code>oc</code> command-line clients.</p><h3 id=openshift-cluster>OpenShift Cluster</h3><p>Make sure you have the <code>kubeadmin</code> administrator login for the data center cluster. Use this or the <code>kubeconfig</code> (export the path) to provide administrator access to your data center cluster. It is not required that you have access to the edge (factory) clusters. GitOps and DevOps will take care of the edge clusters.</p><h3 id=github-account>GitHub account</h3><p>You will need to login into GitHub and be able to fork two repositories.</p><ul><li>hybrid-cloud-patterns/multicluster-devsecops</li><li>hybrid-cloud-patterns/chat-client</li></ul><h2 id=pipeline-demos>Pipeline Demos</h2><h3 id=pipeline-1-build--deploy>Pipeline 1: Build & Deploy</h3><p>Running this pipeline shows how a build and deploy can run easily and push an image to production and everything looks fine. There are many development environments that run in this &ldquo;trusted&rdquo; mode today.</p><p>However the built image is never scanned. And in the next pipeline we see that the same image that was deployed in Pipeline 1 is actually not secure and should never have been deployed.</p><p><em>TBD - screen shots</em></p><h3 id=pipeline-2-build--scan-with-failure>Pipeline 2: Build & Scan with Failure</h3><p>Pipeline 2 is the same as Pipeline 1 except that the image is scanned and found to fail the scan. The image is NOT pushed to a registry and therefore not deployed to production.</p><p><em>TBD - screen shots</em></p><h3 id=pipeline-3-build--scan-with-success>Pipeline 3: Build & Scan with Success</h3><p>Pipeline 3 builds an image that successfully scans without issue. This shows the steps to add a scan task to the pipeline.</p><p><em>TBD - screen shots</em></p><h3 id=pipeline-4-build-scan-sign-and-push-to-prod>Pipeline 4: Build, Scan, Sign and Push to Prod</h3><p>Pipeline 4 demonstrates a more complete pipeline that builds, scans and also signs the image before pushing.</p><p>Pipeline 4 is the preferred DevSecOps approach and can be modified to include more security based tasks. E.g. when using a base image for a build, the signature of that image can be checked before the build step even starts.</p><p><em>TBD - screen shots</em></p></div></div></div><div class="pf-l-grid__item pf-m-4-col"><nav class="pf-c-jump-links pf-m-vertical" aria-label=Contents><div class=pf-c-jump-links__main><div class=pf-c-jump-links__header><div class=pf-c-jump-links__label><h1>Table of Contents</h1></div></div><nav id=TableOfContents><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#demonstrating-multicluster-devsecops>Demonstrating Multicluster DevSecOps</a><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#background>Background</a></li><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#prerequisite-preparation>Prerequisite preparation</a></li><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#pipeline-demos>Pipeline Demos</a></li></ul></li></ul></nav></div></nav></div></div></section></main></div><div><div style=padding:10px;text-align:center;color:#d2d2d2;background-color:#000>Copyright &copy; 2022 Red Hat, Inc.</div></div></body></html>