<!doctype html><html><head><link rel=stylesheet href=https://hybrid-cloud-patterns.io/sass/patternfly.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=https://hybrid-cloud-patterns.io/sass/patternfly-addons.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.2/css/solid.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.2/css/fontawesome.css><title>Hybrid Cloud Patterns | Hybrid Cloud Patterns</title></head><body><div class=pf-c-page><header class=pf-c-page__header><div class=pf-c-page__header-brand><a href=/ class=pf-c-page__header-brand-link><img src=/images/hybrid_cloud_patterns.png alt="Hybrid Cloud Patterns"></a></div><div class=pf-c-page__header-tools><nav class="pf-c-nav pf-m-horizontal" role=navigation><ul class=pf-c-nav__list><li class=pf-c-nav__item><a class=pf-c-nav__link href=/patterns/ title=Patterns>Patterns</a></li><li class="pf-c-nav__item pf-m-current"><a class=pf-c-nav__link href=/learn/ title=Learn>Learn</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/contribute/ title=Contribute>Contribute</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/blog/ title=Blog>Blog</a></li></ul></nav></div></header><div class=pf-c-page__sidebar><div class=pf-c-page__sidebar-body><div class=pf-c-nav><ul class=pf-c-nav__list><li class="pf-c-nav__item pf-m-expanded"><a href=/learn/about/ class="pf-c-nav__link pf-m-current">Hybrid Cloud Patterns</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=/learn/quickstart/ class=pf-c-nav__link>Patterns quick start</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=/learn/infrastructure/ class=pf-c-nav__link>Infrastructure</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=/learn/workflow/ class=pf-c-nav__link>Workflow</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=/learn/secrets/ class=pf-c-nav__link>Secrets</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=/learn/faq/ class=pf-c-nav__link>FAQ</a></li></ul></div></div></div><main class=pf-c-page__main><section class=pf-c-page__main-section><div class="pf-l-grid pf-m-gutter"><div class="pf-l-grid__item pf-m-8-col"><div class=pf-c-content><div class=pf-c-content><h1 id=hybrid-cloud-patterns>Hybrid Cloud Patterns</h1><p>Hybrid Cloud Patterns and the downstream Validated Patterns are a natural progression from reference architectures with additional value. Here is a brief video to explain what patterns are all about:</p><p><a href="https://www.youtube.com/watch?v=lI8TurakeG4"><img src=https://img.youtube.com/vi/lI8TurakeG4/0.jpg alt=patterns-intro-video></a></p><p>This effort is focused on customer solutions that involve multiple Red Hat
products. The patterns include one or more applications that are based on successfully deployed customer examples. Example application code is provided as a demonstration, along with the various open source projects and Red Hat products required to for the deployment to work. Users can then modify the pattern for their own specific application.</p><p>How do we select and produce a pattern? We look for novel customer use cases, obtain an open source demonstration of the use case, validate the pattern with its components with the relevant product engineering teams, and create GitOps based automation to make them easily repeatable and extendable.</p><p>The automation also enables the solution to be added to Continuous Integration (CI), with triggers for new product versions (including betas), so that we can proactively find and fix breakage and avoid bit-rot.</p><h2 id=who-should-use-these-patterns>Who should use these patterns?</h2><p>It is recommended that architects or advanced developers with knowledge of Kubernetes and Red Hat OpenShift Container Platform use these patterns. There are advanced <a href=https://www.cncf.io/projects/>Cloud Native</a> concepts and projects deployed as part of the pattern framework. These include, but are not limited to, OpenShift Gitops (<a href=https://argoproj.github.io/argo-cd/>ArgoCD</a>), Advanced Cluster Management (<a href=https://open-cluster-management.io/>Open Cluster Management</a>), and OpenShift Pipelines (<a href=https://tekton.dev/>Tekton</a>)</p><h2 id=general-structure>General Structure</h2><p>All patterns assume an OpenShift cluster is available to deploy the application(s) that are part of the pattern. If you do not have an OpenShift cluster, you can use <a href=https://console.redhat.com/openshift>cloud.redhat.com</a>.</p><p>The documentation will use the <code>oc</code> command syntax but <code>kubectl</code> can be used interchangeably. For each deployment it is assumed that the user is logged into a cluster using the <code>oc login</code> command or by exporting the <code>KUBECONFIG</code> path.</p><p>The diagram below outlines the general deployment flow of a datacenter application.</p><p>But first the user must create a fork of the pattern repository. This allows changes to be made to operational elements (configurations etc.) and to application code that can then be successfully made to the forked repository for DevOps continuous integration (CI). Clone the directory to your laptop/desktop. Future changes can be pushed to your fork.</p><p><img src=/images/gitops-datacenter.png alt="GitOps for Datacenter"></p><ol><li><p>Make a copy of the values file. There may be one or more values files. E.g. <code>values-global.yaml</code> and/or <code>values-datacenter.yaml</code>. While most of these values allow you to specify subscriptions, operators, applications and other application specifics, there are also <em>secrets</em> which may include encrypted keys or user IDs and passwords. It is important that you make a copy and <strong>do not push your personal values file to a repository accessible to others!</strong></p></li><li><p>Deploy the application as specified by the pattern. This may include a Helm command (<code>helm install</code>) or a make command (<code>make deploy</code>).</p></li></ol><p>When the workload is deployed the pattern first deploys OpenShift GitOps. OpenShift GitOps will then take over and make sure that all application and the components of the pattern are deployed. This includes required operators and application code.</p><p>Most patterns will have an Advanced Cluster Management operator deployed so that multi-cluster deployments can be managed.</p><h2 id=edge-patterns>Edge Patterns</h2><p>Some patterns include both a data center and one or more edge clusters. The diagram below outlines the general deployment flow of applications on an edge application. The edge OpenShift cluster is often deployed on a smaller cluster than the datacenter. Sometimes this might be a three node cluster that allows workloads to be deployed on the master nodes. The edge cluster might be a single node cluster (SN0). It might be deployed on bare metal, on local virtual machines or in a public/private cloud. Provision the cluster (see above)</p><p><img src=/images/gitops-edge.png alt="GitOps for Edge"></p><ol start=3><li>Import/join the cluster to the hub/data center. Instructions for importing the cluster can be found [here]. You&rsquo;re done.</li></ol><p>When the cluster is imported, ACM on the datacenter will deploy an ACM agent and agent-addon pod into the edge cluster. Once installed and running ACM will then deploy OpenShift GitOps onto the cluster. Then OpenShift GitOps will deploy whatever applications are required for that cluster based on a label.</p><h2 id=openshift-gitops-aka-argocd>OpenShift GitOps (a.k.a ArgoCD)</h2><p>When OpenShift GitOps is deployed and running in a cluster (datacenter or edge) you can launch its console by choosing ArgoCD in the upper left part of the OpenShift Console (TO-DO whenry to add an image and clearer instructions here)</p></div></div></div><aside class="pf-l-grid__item pf-m-4-col pf-c-jump-links pf-m-vertical sticky pf-m-expandable pf-m-non-expandable-on-2xl" aria-label="Table of contents"><div class=pf-c-jump-links__header><div class=pf-c-jump-links__label><h1>Table of Contents</h1></div></div><nav id=TableOfContents><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#hybrid-cloud-patterns>Hybrid Cloud Patterns</a><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#who-should-use-these-patterns>Who should use these patterns?</a></li><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#general-structure>General Structure</a></li><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#edge-patterns>Edge Patterns</a></li><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#openshift-gitops-aka-argocd>OpenShift GitOps (a.k.a ArgoCD)</a></li></ul></li></ul></nav></aside></div></section><footer id=footer class="footer-dark pf-m-no-fill pf-l-flex footer-center"><div class=pf-l-flex__item><a href=//www.redhat.com target=top aria-label="Visit Red Hat.com"><img src=/images/RHlogo.svg alt="Red Hat logo" width=145px height=613px></a><span class=site-copyright>Copyright &copy; 2023 Red Hat, Inc.</span></div></footer></main></div></body></html>